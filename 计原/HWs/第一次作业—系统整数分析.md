## 第一次作业—系统整数分析

> 康锦辉 3180105099 2020.02.29



1、运行以下C语言程序：

```c
#include <iostream>
#include <stdio.h>

int main(int argc, char** argv){
	int x=-2147483648;
	printf("%d, %d", x, -x);
}
```

分析以上程序的运行结果，为什么。

#### solution:

输出结果：

-2147483648, -2147483648

原因：

计算机用补码的形式存放数据，int为32位整型，

-2147483648的二进制形式为：1000 0000 0000 0000 0000 0000 0000 0000‬，

运算符“-”的处理方式为取反加一，

将1000 0000 0000 0000 0000 0000 0000 0000‬取反，

得0111 1111 1111 1111 1111 1111 1111 1111，再加1，

得1000 0000 0000 0000 0000 0000 0000 0000 = -2147483648



2、系统里以白特(byte)为寻址单位，写个C语言程序，说明一个4白特的int：0x12345678在机器里是怎么存放的？

#### solution:

C语言程序：

```c
#include<stdio.h>
#include<stdlib.h>

int main(){
	int x=0x12345678;
	int *p=&x;
	char *pp=(char*)p;
	printf("%p:%x\n",pp,*pp);
	printf("%p:%x\n",pp+1,*(pp+1));
	printf("%p:%x\n",pp+2,*(pp+2));
	printf("%p:%x\n",pp+3,*(pp+3));

	return 0;
}
```

输出结果：

```c
000000000061FE0C:78
000000000061FE0D:56
000000000061FE0E:34
000000000061FE0F:12
```

可以看到，计算机采用小端规则来存放数据，即低位字节在前，高位字节在后。