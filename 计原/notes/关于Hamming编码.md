## 关于Hamming编码

Richard Hamming发明了一种广泛应用于存储器技术的冗余技术，并因此获得了1968年的图灵奖。



存储器出错：

比如有一个4位的数据0001，存着存着不小心变成了0011，这时候在倒数第二位就出错了。



错误检测编码：

如果用一种编码方式，可以检验数据是否出现了错误，这种方法就可以被称为错误检测编码。



奇偶效验码：

一种错误检测编码。在原来码字基础上增加一位作为奇偶校验位，当码字中1的个数为奇数时，该位为1，否则为0，这样整体编码中1的个数总为偶数。如果发现一个码字一共有奇数个1，说明这个码字发生了错误。

事实上，奇偶校验可以检测到的是奇数个错误的出现，而实际中出现3位错误的几率很小，所以奇偶校验主要用于检验1位错误。



Hamming编码：

Hamming显然并不满足于只知道有没有错误，Hamming编码采用额外的校验位来确定错误的位置。

（1）对数据从左到右从1开始编号（注意这里是从一开始，与一般的从0开始不一样）

（2）将所有编号为2的整数次幂的位标记为奇偶校验位

（3）其他位作为数据位

（4）奇偶校验位的位置决定了其管辖的数据位，比如校验位1检查1，3，5，7，……位，这些位编号的二进制形式最右边一位都是1；校验位2检查2，3，6，7，……位，这些位编号的二进制形式右边起第二位都是1；校验位4检查第4~7，……位，这些位编号二进制形式右边第三位都是1；……

注意到每个数据位都被至少两个校验位检查。

比如某个数据10011010，Hamming编码后为011100101010，出错后变成了011100101110。

检查一遍，发现校验位1没毛病，校验位2有问题，校验位4没毛病，校验位8有问题。

然后就知道是第10位出现了问题，只要将第10位取反，就可以纠错。



当然Hamming也没有也没有止步于1位纠错。通过付出额外的一位的代价，增加一位奇偶校验码来检查整个码字，可以做到检测2位错。

仍然采用偶校验（即校验位与数据位中1的个数之和总是偶数）计算出Hamming奇偶校验位H（p1p2p3……）和整个码字的奇偶校验位p

（1）H为偶，p为偶，表示没有错误

（2）H为奇，p为偶，表示出现了一位可纠正的错误

（3）H为偶，p为奇，表示仅仅是p出错了，将p取反即可

（4）H为奇，p为奇，表示出现了两位错

这就是纠一位错，检两位错的Hamming编码（SEC/DED）。